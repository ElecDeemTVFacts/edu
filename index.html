<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Základy elektrické veličiny – Interaktivní graf</title>
<style>
  :root {
    --clr-bg: #f4f4f9;
    --clr-text: #222;
    --clr-primary: #007acc;
    --clr-secondary: #005f99;
    --clr-table-header: #004466;
    --clr-bg-dark: #121212;
    --clr-text-dark: #eee;
  }
  body {
    background: var(--clr-bg);
    color: var(--clr-text);
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    padding: 1rem 1.5rem;
  }
  body.dark {
    background: var(--clr-bg-dark);
    color: var(--clr-text-dark);
  }
  header {
    text-align: center;
    margin-bottom: 1rem;
  }
  h1 {
    margin: 0.5rem 0;
    font-size: 2rem;
  }
  nav {
    margin: 1rem 0;
  }
  nav a {
    margin: 0 0.8rem;
    text-decoration: none;
    font-weight: 600;
    color: var(--clr-primary);
  }
  nav a:hover {
    color: var(--clr-secondary);
    text-decoration: underline;
  }
  button#toggleDark {
    margin-top: 0.5rem;
    background: var(--clr-primary);
    color: white;
    border: none;
    padding: 0.4rem 1rem;
    font-size: 1rem;
    border-radius: 4px;
    cursor: pointer;
  }
  button#toggleDark:hover {
    background: var(--clr-secondary);
  }
  main {
    max-width: 900px;
    margin: auto;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 1.5rem;
  }
  thead {
    background: var(--clr-table-header);
    color: white;
  }
  th, td {
    padding: 0.6rem 0.8rem;
    border: 1px solid #ccc;
    text-align: center;
  }
  body.dark table thead {
    background: #004050;
  }
  input[type="range"] {
    width: 100%;
    margin: 0.3rem 0 1rem;
  }
  label {
    font-weight: 600;
  }
  .slider-group {
    margin-bottom: 1.2rem;
  }
  #graphContainer {
    text-align: center;
    margin-bottom: 2rem;
  }
  canvas {
    max-width: 100%;
    border: 1px solid #aaa;
    background: white;
    border-radius: 6px;
  }
  body.dark canvas {
    background: #222;
    border-color: #555;
  }

  /* --- Studijní materiály --- */
  .study-materials {
    max-width: 900px;
    margin: 2rem auto;
  }
  .study-materials h2 {
    font-size: 1.6rem;
    margin-bottom: 1rem;
    border-left: 6px solid var(--clr-primary);
    padding-left: 0.5rem;
  }
  .card {
    background: #fff;
    border-radius: 8px;
    padding: 1rem 1.2rem;
    margin-bottom: 1.5rem;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    border: 1px solid #ddd;
  }
  body.dark .card {
    background: #1a1a1a;
    border-color: #333;
    box-shadow: 0 2px 6px rgba(0,0,0,0.4);
  }
  .card h3 {
    margin-top: 0;
    color: var(--clr-primary);
  }
  .card h4 {
    margin-bottom: 0.5rem;
    color: var(--clr-secondary);
  }
</style>
</head>
<body>
<header>
  <h1>Základy elektrické veličiny</h1>
  <button id="toggleDark" aria-pressed="false" aria-label="Přepnout tmavý režim">🌙 Tmavý režim</button>
  <nav>
    <a href="#tabulka">Tabulka</a>
    <a href="#graf">Graf</a>
    <a href="#materialy">Studijní materiály</a>
  </nav>
</header>

<main>
  <section id="tabulka" aria-label="Tabulka základních elektrických veličin">
    <h2>Základní elektrické veličiny</h2>
    <input type="search" id="filterInput" placeholder="Filtrovat tabulku..." aria-label="Filtrovat tabulku základních veličin" />
    <table id="unitsTable" aria-describedby="tableDesc">
      <caption id="tableDesc">Tabulka základních elektrických veličin a jejich jednotek</caption>
      <thead>
        <tr>
          <th>Název veličiny</th>
          <th>Značka</th>
          <th>Název jednotky</th>
          <th>Značka jednotky</th>
        </tr>
      </thead>
      <tbody>
      <tr><td>Elektrické napětí</td><td>U</td><td>Volt</td><td>V</td></tr>
      <tr><td>Elektrický proud</td><td>I</td><td>Ampér</td><td>A</td></tr>
      <tr><td>Elektrický odpor</td><td>R</td><td>Ohm</td><td>Ω</td></tr>
      <tr><td>Elektrický výkon</td><td>P</td><td>Watt</td><td>W</td></tr>
      <tr><td>Kapacita</td><td>C</td><td>Farad</td><td>F</td></tr>
      <tr><td>Indukčnost</td><td>L</td><td>Henry</td><td>H</td></tr>
      <tr><td>Kmitočet</td><td>f</td><td>Hertz</td><td>Hz</td></tr>
      </tbody>
    </table>
  </section>

  <section id="graf" aria-label="Interaktivní graf vztahu U, I a R">
    <h2>Interaktivní graf vztahu napětí, proudu a odporu</h2>
    <p>Vyberte dvě veličiny pomocí posuvníků, třetí se dopočítá podle Ohmova zákona <code>U = I × R</code>.</p>

    <div class="slider-group">
      <label for="sliderU">Napětí U [V]: <output id="outU">10</output> V</label>
      <input type="range" id="sliderU" min="0" max="100" step="0.1" value="10" />
    </div>
    <div class="slider-group">
      <label for="sliderI">Proud I [A]: <output id="outI">2</output> A</label>
      <input type="range" id="sliderI" min="0" max="20" step="0.01" value="2" />
    </div>
    <div class="slider-group">
      <label for="sliderR">Odpor R [Ω]: <output id="outR">5</output> Ω</label>
      <input type="range" id="sliderR" min="0" max="50" step="0.01" value="5" />
    </div>

    <div id="graphContainer" aria-live="polite">
      <canvas id="ohmGraph" width="600" height="300"></canvas>
    </div>
  </section>

  <!-- Studijní materiály -->
  <section id="materialy" class="study-materials">
    <h2>📘 Studijní materiály</h2>

    <article class="card">
      <h3>Strana 1 – Základy</h3>
      <p><strong>ZE – 5. 9. 25</strong></p>
      <p>
        Nejpoužívanější veličiny elektrických veličin a jejich jednotky mají mnoho dalších odvozených možností od každé z nich. 
        Rozlišují se např. hodnoty špičkové, střední, efektivní, protokeltové, střídavé aj. 
        Speciální značky se používají především proto, aby bylo možné u dané veličiny identifikovat, že souvisí (či nesouvisí) 
        s časovou hodnotou, označením, či s jinou odvozenou hodnotou.
      </p>
      <p>Základní elektrické veličiny jsou obsaženy v tzv. soustavě SI.</p>
    </article>

    <article class="card">
      <h3>Strana 2 – Příklad a přepočty jednotek</h3>
      <p><strong>Příklad:</strong><br>
        I = 10 A <br>
        I = fyzikální veličina (elektrický proud) <br>
        10 = číselná hodnota <br>
        A = fyzikální jednotka (ampér)
      </p>

      <h4>Přepočty jednotek</h4>
      <ul>
        <li>piko (p) = 10⁻¹²</li>
        <li>nano (n) = 10⁻⁹</li>
        <li>mikro (µ) = 10⁻⁶</li>
        <li>mili (m) = 10⁻³</li>
        <li>kilo (k) = 10³</li>
        <li>mega (M) = 10⁶</li>
        <li>giga (G) = 10⁹</li>
        <li>tera (T) = 10¹²</li>
      </ul>
    </article>

    <article class="card">
      <h3>Stručná charakteristika základních veličin</h3>
      <p><strong>Napětí</strong> – rozdíl dvou potenciálů ve voltech (V). Udává, kolik „síly“ má elektrické pole k posunutí náboje.</p>
      <p><strong>Proud</strong> – tok elektronů v obvodu udávaný ampéry (A). Vzniká v důsledku přítomnosti napětí.</p>
      <p><strong>Odpor</strong> – odpor (Ω), který vodič nebo součástka klade elektrickému proudu.</p>
      <p><strong>Výkon</strong> – výkon P ve wattech (W) vyjadřuje rychlost přeměny elektrické energie, platí P = U × I.</p>
      <p><strong>Kapacita</strong> – schopnost vodiče nebo kondenzátoru uchovávat elektrický náboj, jednotka farad (F).</p>
      <p><strong>Indukčnost</strong> – schopnost vodiče nebo cívky vytvářet elektromagnetické pole, jednotka henry (H).</p>
      <p><strong>Kmitočet</strong> – udává počet kmitů za sekundu, jednotka hertz (Hz).</p>
    </article>
  </section>
</main>

<footer>
  &copy; 2025 Edukace Elektrika. Všechny práva vyhrazena.
</footer>

<script>
  // --- Tmavý režim toggle ---
  const toggleDark = document.getElementById('toggleDark');
  toggleDark.addEventListener('click', () => {
    document.body.classList.toggle('dark');
    const isDark = document.body.classList.contains('dark');
    toggleDark.textContent = isDark ? '☀️ Světlý režim' : '🌙 Tmavý režim';
    toggleDark.setAttribute('aria-pressed', isDark);
  });

  // --- Filtrování tabulky ---
  const filterInput = document.getElementById('filterInput');
  const table = document.getElementById('unitsTable');
  filterInput.addEventListener('input', () => {
    const filter = filterInput.value.toLowerCase();
    const trs = table.tBodies[0].rows;
    for(let row of trs){
      const text = row.textContent.toLowerCase();
      row.style.display = text.includes(filter) ? '' : 'none';
    }
  });

  // --- Interaktivní graf a posuvníky ---
  const sliderU = document.getElementById('sliderU');
  const sliderI = document.getElementById('sliderI');
  const sliderR = document.getElementById('sliderR');
  const outU = document.getElementById('outU');
  const outI = document.getElementById('outI');
  const outR = document.getElementById('outR');
  const canvas = document.getElementById('ohmGraph');
  const ctx = canvas.getContext('2d');

  let U_val = parseFloat(sliderU.value);
  let I_val = parseFloat(sliderI.value);
  let R_val = parseFloat(sliderR.value);
  let lastChanged = 'R';

  function drawGraph(U, I, R) {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = getComputedStyle(document.body).backgroundColor;
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.strokeStyle = getComputedStyle(document.body).color;
    ctx.lineWidth = 2;

    ctx.beginPath();
    ctx.moveTo(50, canvas.height - 50);
    ctx.lineTo(canvas.width - 20, canvas.height - 50);
    ctx.stroke();

    ctx.beginPath();
    ctx.moveTo(50, canvas.height - 50);
    ctx.lineTo(50, 20);
    ctx.stroke();

    ctx.fillStyle = getComputedStyle(document.body).color;
    ctx.font = "14px Arial";
    ctx.fillText("Proud I [A]", canvas.width/2 - 30, canvas.height - 20);
    ctx.save();
    ctx.translate(20, canvas.height/2 + 30);
    ctx.rotate(-Math.PI/2);
    ctx.fillText("Napětí U [V]", 0, 0);
    ctx.restore();

    ctx.beginPath();
    ctx.moveTo(50, canvas.height - 50);
    let scaleX = (canvas.width - 70)/20;
    let scaleY = (canvas.height - 70)/100;
    for(let i=0;i<=20;i++){
      let I = i;
      let U_calc = I * R;
      let x = 50 + I * scaleX;
      let y = canvas.height - 50 - U_calc * scaleY;
      if(i===0) ctx.moveTo(x,y);
      else ctx.lineTo(x,y);
    }
    ctx.stroke();

    let x = 50 + I*scaleX;
    let y = canvas.height - 50 - U*scaleY;
    ctx.beginPath();
    ctx.arc(x,y,6,0,2*Math.PI);
    ctx.fillStyle = "red";
    ctx.fill();

    ctx.fillStyle = getComputedStyle(document.body).color;
    ctx.fillText(`U=${U.toFixed(1)} V`, x+10, y-10);
    ctx.fillText(`I=${I.toFixed(2)} A`, x+10, y+10);
    ctx.fillText(`R=${R.toFixed(2)} Ω`, x+10, y+25);
  }

  function updateValues() {
    U_val = parseFloat(sliderU.value);
    I_val = parseFloat(sliderI.value);
    R_val = parseFloat(sliderR.value);
    if(lastChanged === 'U' && I_val !== 0){
      R_val = U_val / I_val;
      sliderR.value = R_val;
    } else if(lastChanged === 'I' && R_val !== 0){
      U_val = I_val * R_val;
      sliderU.value = U_val;
    } else if(lastChanged === 'R'){
      U_val = I_val * R_val;
      sliderU.value = U_val;
    }
    outU.textContent = U_val.toFixed(1);
    outI.textContent = I_val.toFixed(2);
    outR.textContent = R_val.toFixed(2);
    drawGraph(U_val, I_val, R_val);
  }
  sliderU.addEventListener('input', ()=>{ lastChanged='U'; updateValues(); });
  sliderI.addEventListener('input', ()=>{ lastChanged='I'; updateValues(); });
  sliderR.addEventListener('input', ()=>{ lastChanged='R'; updateValues(); });
  updateValues();
</script>
</body>
</html>
